<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Low level functions to access the flytable metadata service — flytable_login • fafbseg</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Low level functions to access the flytable metadata service — flytable_login" />
<meta property="og:description" content="flytable_login uses your flytable user name and email to
  log into the service.
flytable_set_token will obtain and store a permanent
  seatable user-level API token.
flytable_base returns a base object (equivalent to
  a mysql database) which allows you to access one or more tables, logging in
  to the service if necessary. The returned base object give you full access
  to the Python
  Base
   API allowing a range of row/column manipulations.
flytable_alltables lists all tables across all flytables
  bases." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fafbseg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/articles/FAFB-FlyWire.html">FAFB-FlyWire</a>
    </li>
    <li>
      <a href="../articles/articles/accessing-graphene-server.html">Accessing the chunked graph server</a>
    </li>
    <li>
      <a href="../articles/articles/capturing-ngl-meshes.html">Capturing neuroglancer meshes from a browser scene</a>
    </li>
    <li>
      <a href="../articles/articles/installing-cloudvolume-meshparty.html">Installing python modules: cloudvolume, meshparty and skeletor</a>
    </li>
    <li>
      <a href="../articles/articles/mesh-to-mesh.html">Mesh to mesh distances</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="../SUPPORT.html">Help</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://natverse.github.io">natverse</a>
</li>
<li>
  <a href="https://github.com/natverse/fafbseg">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Low level functions to access the flytable metadata service</h1>
    <small class="dont-index">Source: <a href='https://github.com/natverse/fafbseg/blob/master/R/flytable.R'><code>R/flytable.R</code></a></small>
    <div class="hidden name"><code>flytable_login.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>flytable_login</code> uses your flytable user name and email to
  log into the service.</p>
<p><code>flytable_set_token</code> will obtain and store a permanent
  seatable user-level API token.</p>
<p><code>flytable_base</code> returns a <code>base</code> object (equivalent to
  a mysql database) which allows you to access one or more tables, logging in
  to the service if necessary. The returned base object give you full access
  to the Python
  <a href='https://seatable.github.io/seatable-scripts/python/base/'><code>Base</code></a>
   API allowing a range of row/column manipulations.</p>
<p><code>flytable_alltables</code> lists all tables across all flytables
  bases.</p>
    </div>

    <pre class="usage"><span class='fu'>flytable_login</span><span class='op'>(</span>
  url <span class='op'>=</span> <span class='st'>"https://flytable.mrc-lmb.cam.ac.uk/"</span>,
  token <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Sys.getenv.html'>Sys.getenv</a></span><span class='op'>(</span><span class='st'>"FLYTABLE_TOKEN"</span>, unset <span class='op'>=</span> <span class='cn'>NA_character_</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='fu'>flytable_set_token</span><span class='op'>(</span><span class='va'>user</span>, <span class='va'>pwd</span>, url <span class='op'>=</span> <span class='st'>"https://flytable.mrc-lmb.cam.ac.uk/"</span><span class='op'>)</span>

<span class='fu'>flytable_base</span><span class='op'>(</span>
  table <span class='op'>=</span> <span class='cn'>NULL</span>,
  base_name <span class='op'>=</span> <span class='cn'>NULL</span>,
  workspace_id <span class='op'>=</span> <span class='cn'>NULL</span>,
  url <span class='op'>=</span> <span class='st'>"https://flytable.mrc-lmb.cam.ac.uk/"</span>,
  cached <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>

<span class='fu'>flytable_alltables</span><span class='op'>(</span>ac <span class='op'>=</span> <span class='cn'>NULL</span>, cached <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>url</th>
      <td><p>Optional URL to the server</p></td>
    </tr>
    <tr>
      <th>token</th>
      <td><p>normally retrieved from <code>FLYTABLE_TOKEN</code> environment
variable.</p></td>
    </tr>
    <tr>
      <th>user, pwd</th>
      <td><p>flytable user and password used by <code>flytable_set_token</code>
to obtain a token</p></td>
    </tr>
    <tr>
      <th>table</th>
      <td><p>Character vector specifying a table foe which you want a
<code>base</code> object.</p></td>
    </tr>
    <tr>
      <th>base_name</th>
      <td><p>Character vector specifying the <code>base</code></p></td>
    </tr>
    <tr>
      <th>workspace_id</th>
      <td><p>A numeric id specifying the workspace. Advanced use only
since we can normally figure this out from <code>base_name</code>.</p></td>
    </tr>
    <tr>
      <th>cached</th>
      <td><p>Whether to use a cached version of the response if available.
Set to <code>FALSE</code> if you know tables have been added or renamed during
your session.</p></td>
    </tr>
    <tr>
      <th>ac</th>
      <td><p>Optional account object returned by flytables_login</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>For <code>flytable_login</code>, a Python
  <a href='https://seatable.github.io/seatable-scripts/python/account/'><code>Account</code></a>
   object from the seatable api as wrapped by reticulate.</p>
<p>For <code>flytable_base</code>, a Python
  <a href='https://seatable.github.io/seatable-scripts/python/base/'><code>Base</code></a>
   object from the seatable api as wrapped by reticulate.</p>
<p>A <code>data.frame</code> containing the <code>base_name</code>,
  <code>workspace_id</code>, table <code>name</code> and table <code>_id</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Besides initial setup (next paragraph), you should not need to use
  these lower level functions directly. Instead we recommend higher level
  functions such as <code><a href='flytable-queries.html'>flytable_query</a></code>.</p>
<p>In order to start using flytable, you must get an API token. There doesn't
  seem to be a convenient way to do this from the seatable web interface but
  you can get one by calling <code>flytable_set_token</code> with your flytable
  user and password. This should be a once only step. Thereafter you should
  have a <code>FLYTABLE_TOKEN</code> environment variable set in your .Renviron
  file.</p>
<p><code>flytable_base</code> will use your flytable API token to log into
  the service.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other flytable: 
<code><a href='flytable-queries.html'>flytable-queries</a></code>,
<code><a href='flytable_update_rows.html'>flytable_update_rows</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'>flytable_login</span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'>flytable_set_token</span><span class='op'>(</span>user<span class='op'>=</span><span class='st'>'xxx@gmail.com'</span>, pwd<span class='op'>=</span><span class='st'>'yyy'</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>hemilineages</span><span class='op'>=</span><span class='fu'>flytable_base</span><span class='op'>(</span>base_name<span class='op'>=</span><span class='st'>'hemilineages'</span><span class='op'>)</span>
<span class='co'># equivalent, but simpler since you only have to remember the table name</span>
<span class='va'>hemilineages</span><span class='op'>=</span><span class='fu'>flytable_base</span><span class='op'>(</span><span class='st'>'fafb_hemilineages_survey'</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># \donttest{</span>
<span class='fu'>flytable_alltables</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      base_name workspace_id                     name  _id
#&gt; 1 hemilineages            5 fafb_hemilineages_survey 0000
#&gt; 2 hemilineages            5                testfruit diIw
#&gt; 3 hemilineages            5                column_ss d4aS
#&gt; 4   LH_library            5                LH_bodies dvGc</div><div class='input'><span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Gregory Jefferis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


